<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> - Mundo Orgânico</title>
    <link rel="shortcut icon" th:href="@{/img/Group 16.png}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body class="bg-light">

    <header th:replace="fragments/headerInternal2 :: header_internal2"></header>

    <div class="row">
        <div class="flex-shrink-0">
            <nav th:replace="fragments/sidebarSecondary :: sidebar_second"></nav>
        </div>

        <main class="flex-nowrap d-flex">
            <div class="col-md-13 ms-sm-auto px-md-2">
                <div class="pt-1">
                    <a th:href="@{/main-center}" class="link-dark">
                        <svg width="14" height="12" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 1L1 8L8 15M1 8H17H1Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>  
                    </a>
                </div>
    
                <div class="modal-mod modal-signin position-static d-block ">
                    <div class="modal-dialog">
                        <div class="modal-content rounded-4 expand-max">

                            <div class="row g-2 mb-auto">

                                <div class="col-md-14">
                                    <div class="modal-body p-5 pb-3 ps-6 px-4 border-bottom-0">
                                        <h5 class="fw-semibold mb-0">
                                            Pedido
                                        </h5>
 
                                        <div class="table-responsive-sm pt-3 scron col-15">
                                            <table class="table table-borderless table-sm" cellpadding="2" cellspacing="0" th:each="items : ${items}">
                                                <tbody>
                                                    <tr>
                                                        <td class="col-20 px-0">
                                                            <div class="d-flex">
                                                                <div th:text="${items.amount}"></div>
                                                                <div class="ms-1">x</div>
                                                            </div>
                                                        </td>
                                                        <td class="col-4" th:text="${items.product.name}"></td>
                                                        <td class="col-1 text-end"> 
                                                            <div class="d-flex justify-content-end">
                                                                <div>R$</div> 
                                                                <div class="ms-1" th:text="${items.value}"></div> 
                                                            </div>
                                                        </td>
                                                        
                                                        <td class="col-1 text-center">
                                                            <form  method="POST" th:action="@{/editar-item}">
                                                                <div>
                                                                    <input th:value="@{{product}(product=${items.product.id})}" type="hidden" name="idProd">

                                                                    <input th:value="@{{user}(user=${session.logado.id})}" type="hidden" name="userId">
                                                                </div>

                                                                <button type="submit" style="border: none; padding: 0!important; background-color: white;">
                                                                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path d="M2.11701 11.8504L2.47055 12.2039L2.47058 12.2039L2.11701 11.8504ZM12.3712 1.59532L12.0255 1.23399L12.0177 1.24178L12.3712 1.59532ZM15.4047 4.62793L15.7583 4.98158L15.766 4.97352L15.4047 4.62793ZM5.14878 14.883L4.79524 14.5294L4.79521 14.5294L5.14878 14.883ZM4.29238 15.3414L4.19431 14.8511L4.1943 14.8511L4.29238 15.3414ZM1 16L0.50971 15.9019C0.476923 16.0659 0.528238 16.2354 0.646455 16.3536C0.764673 16.4718 0.934149 16.5231 1.09808 16.4903L1 16ZM1.65864 12.7068L1.16836 12.6087L1.16835 12.6087L1.65864 12.7068ZM2.47058 12.2039L12.7248 1.94886L12.0177 1.24178L1.76344 11.4968L2.47058 12.2039ZM12.7169 1.95656C13.0276 1.65925 13.4424 1.4954 13.8724 1.5001L13.8833 0.500158C13.1919 0.492602 12.5251 0.756046 12.0255 1.23408L12.7169 1.95656ZM13.8724 1.5001C14.3024 1.5048 14.7134 1.67767 15.0176 1.98171L15.7246 1.2745C15.2356 0.785668 14.5747 0.507714 13.8833 0.500158L13.8724 1.5001ZM15.0176 1.98171C15.3217 2.28574 15.4947 2.69677 15.4995 3.12677L16.4994 3.11556C16.4917 2.42419 16.2135 1.76334 15.7246 1.2745L15.0176 1.98171ZM15.4995 3.12677C15.5043 3.55677 15.3406 3.97156 15.0433 4.28234L15.766 4.97352C16.2439 4.47385 16.5072 3.80693 16.4994 3.11556L15.4995 3.12677ZM15.0511 4.27436L4.79524 14.5294L5.50232 15.2366L15.7582 4.9815L15.0511 4.27436ZM4.79521 14.5294C4.63105 14.6936 4.42197 14.8055 4.19431 14.8511L4.39045 15.8316C4.8117 15.7474 5.19859 15.5403 5.50235 15.2365L4.79521 14.5294ZM4.1943 14.8511L0.901918 15.5097L1.09808 16.4903L4.39046 15.8316L4.1943 14.8511ZM1.49029 16.0981L2.14893 12.8048L1.16835 12.6087L0.50971 15.9019L1.49029 16.0981ZM2.14893 12.8049C2.19447 12.5772 2.30638 12.3681 2.47055 12.2039L1.76347 11.4968C1.45969 11.8006 1.25262 12.1875 1.16836 12.6087L2.14893 12.8049ZM10.2829 4.20297L12.7968 6.71688L13.5039 6.00977L10.99 3.49586L10.2829 4.20297Z" fill="#15CA55"/>
                                                                    </svg>
                                                                </button>
                                                            </form>
                                                        </td>

                                                        <td class="col-20 text-center">
                                                            <form method="POST" th:action="@{/deletar-item}">
                                                                <div>
                                                                    <input th:value="@{{product}(product=${items.product.id})}" type="hidden" name="idProd">

                                                                    <input th:value="@{{user}(user=${session.logado.id})}" type="hidden" name="userId">
                                                                </div>
    
                                                                <button type="submit" style="border: none; padding: 0!important; background-color: white;">
                                                                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path d="M10.3964 11.1036C10.5917 11.2988 10.9083 11.2988 11.1036 11.1036C11.2988 10.9083 11.2988 10.5917 11.1036 10.3964L10.3964 11.1036ZM6.60355 5.89645C6.40829 5.70118 6.09171 5.70118 5.89645 5.89645C5.70118 6.09171 5.70118 6.40829 5.89645 6.60355L6.60355 5.89645ZM11.1036 6.60355C11.2988 6.40829 11.2988 6.09171 11.1036 5.89645C10.9083 5.70118 10.5917 5.70118 10.3964 5.89645L11.1036 6.60355ZM5.89645 10.3964C5.70118 10.5917 5.70118 10.9083 5.89645 11.1036C6.09171 11.2988 6.40829 11.2988 6.60355 11.1036L5.89645 10.3964ZM11.1036 10.3964L6.60355 5.89645L5.89645 6.60355L10.3964 11.1036L11.1036 10.3964ZM10.3964 5.89645L5.89645 10.3964L6.60355 11.1036L11.1036 6.60355L10.3964 5.89645ZM15.5 8.5C15.5 12.366 12.366 15.5 8.5 15.5V16.5C12.9183 16.5 16.5 12.9183 16.5 8.5H15.5ZM8.5 15.5C4.63401 15.5 1.5 12.366 1.5 8.5H0.5C0.5 12.9183 4.08172 16.5 8.5 16.5V15.5ZM1.5 8.5C1.5 4.63401 4.63401 1.5 8.5 1.5V0.5C4.08172 0.5 0.5 4.08172 0.5 8.5H1.5ZM8.5 1.5C12.366 1.5 15.5 4.63401 15.5 8.5H16.5C16.5 4.08172 12.9183 0.5 8.5 0.5V1.5Z" fill="#848484"/>
                                                                    </svg>
                                                                </button>
                                                            </form>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        
                                    </div>
                                </div>
                                
                                <div class="col-md-4">
                                    <div class="modal-body p-5 pb-3 ps-2 px-1 border-bottom-0">
                                        <h5 class="fw-semibold mb-0">
                                            Entrega
                                        </h5>
            
                                        <form action="" method="post" th:action="@{/adicionar-endereco}">
                                            <div class="pt-2">
                                                <div class="col-11 pt-3">
                                                    <label class="form-label hh">Endereço</label>
                                                    <input class="Text" type="text" name="location" required>
                                                </div>
    
                                                <div class="row g-2 col pt-2 col-11">
                                                    <div class="col-sm-4">
                                                        <label class="form-label hh">Número</label>
                                                        <input class="Text" type="text" name="number">
                                                    </div>
        
                                                    <div class="ps-3 col">
                                                        <label class="form-label hh">Complemento</label>
                                                        <input class="Text" type="text" name="complement">
                                                    </div>
                                                </div>
    
                                                <div class="col-11 pt-2">
                                                    <label class="form-label hh">Referência</label>
                                                    <input class="Text" type="text" name="reference">
                                                </div>
                                                <div>
                                                    <input th:value="@{{user}(user=${session.logado.id})}" type="hidden" name="userId">
                                                </div>

                                                <div>

                                                    <input th:value="@{{id}(id=${session.logado.id})}" class="int" type="hidden" name="user">
                                                </div>
    
                                                <div class="bott col-11 pt-4">

                                                    <button class="button-w fw-bold py-wh-1 col-6" type="submit">
                                                        Salvar endereço
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                            </div>

                            <div th:each="request : ${request}">
                                <div class="d-flex p-5 pb-4 ps-6 px-4 pt-0">
                                    <div class="col-md-15">
                                        <div class="d-flex">
                                            <small class="h-small fw-semibold me-auto">
                                                Subtotal
                                            </small>
                                            <small class="h-small fw-semibold d-flex">
                                                <div>R$</div>
                                                <span class="ms-1" th:text="${request.subTotal}"></span>
                                            </small>
                                        </div>

                                        <div class="d-flex">
                                            <small class="fw-semibold me-auto">
                                                Taxa de entrega
                                            </small>
                                            <small class="fw-semibold d-flex">
                                                <div>R$</div>
                                                <span class="ms-1" th:text="${taxa}"></span>
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="d-flex p-5 pb-4 ps-6 px-3" >
                                <div class="me-auto d-flex align-items-center" th:each="request : ${request}">
                                    <h5 class="fw-semibold mb-0 h d-flex">
                                        <div>R$</div>
                                        <span class="ms-1" th:text="${request.total}"></span>
                                    </h5>
                                </div>
                                <form method="POST" th:action="@{/criar-pedido}" th:object="${request}">
                                    <div>
                                        <input th:value="@{{id}(id=${session.logado.id})}" class="int" type="hidden" name="user">
                                    </div>
                                    <div class="bott col-3">
                                        <button class="button-w fw-bold py-wh-1 px-md-4" type="submit">
                                            Confirmar
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main> 
    </div>
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>